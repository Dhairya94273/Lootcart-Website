<!DOCTYPE html>
<html>
<head>
<title>Breakout Game</title>
<style>
body { background: #222; margin: 0; }
canvas { display: block; margin: auto; background: black; }
</style>
</head>
<body>
<canvas id="game" width="480" height="320"></canvas>
<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
let ballX=canvas.width/2, ballY=canvas.height-30, dx=2, dy=-2, ballRadius=10;
let paddleX=(canvas.width-75)/2, rightPressed=false, leftPressed=false;
let brickRowCount=3, brickColumnCount=5, brickWidth=75, brickHeight=20, brickPadding=10, brickOffsetTop=30, brickOffsetLeft=30;
let bricks=[], score=0;
for(let c=0;c<brickColumnCount;c++){ bricks[c]=[]; for(let r=0;r<brickRowCount;r++){ bricks[c][r]={x:0,y:0,status:1}; } }

document.addEventListener("keydown", e=>{ if(e.key==="Right"||e.key==="ArrowRight") rightPressed=true; else if(e.key==="Left"||e.key==="ArrowLeft") leftPressed=true; });
document.addEventListener("keyup", e=>{ if(e.key==="Right"||e.key==="ArrowRight") rightPressed=false; else if(e.key==="Left"||e.key==="ArrowLeft") leftPressed=false; });

function drawBall(){ ctx.beginPath(); ctx.arc(ballX,ballY,ballRadius,0,Math.PI*2); ctx.fillStyle="red"; ctx.fill(); ctx.closePath(); }
function drawPaddle(){ ctx.beginPath(); ctx.rect(paddleX,canvas.height-10,75,10); ctx.fillStyle="blue"; ctx.fill(); ctx.closePath(); }
function drawBricks(){
  for(let c=0;c<brickColumnCount;c++){
    for(let r=0;r<brickRowCount;r++){
      if(bricks[c][r].status==1){
        let brickX=(c*(brickWidth+brickPadding))+brickOffsetLeft;
        let brickY=(r*(brickHeight+brickPadding))+brickOffsetTop;
        bricks[c][r].x=brickX; bricks[c][r].y=brickY;
        ctx.beginPath(); ctx.rect(brickX,brickY,brickWidth,brickHeight);
        ctx.fillStyle="green"; ctx.fill(); ctx.closePath();
      }
    }
  }
}
function collisionDetection(){
  for(let c=0;c<brickColumnCount;c++){
    for(let r=0;r<brickRowCount;r++){
      let b=bricks[c][r];
      if(b.status==1){
        if(ballX>b.x && ballX<b.x+brickWidth && ballY>b.y && ballY<b.y+brickHeight){
          dy=-dy; b.status=0; score++;
          if(score==brickRowCount*brickColumnCount){ alert("YOU WIN!"); document.location.reload(); }
        }
      }
    }
  }
}
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  drawBricks(); drawBall(); drawPaddle(); collisionDetection();
  if(ballX+dx>canvas.width-ballRadius||ballX+dx<ballRadius) dx=-dx;
  if(ballY+dy<ballRadius) dy=-dy;
  else if(ballY+dy>canvas.height-ballRadius){
    if(ballX>paddleX&&ballX<paddleX+75) dy=-dy; else document.location.reload();
  }
  if(rightPressed&&paddleX<canvas.width-75) paddleX+=7;
  else if(leftPressed&&paddleX>0) paddleX-=7;
  ballX+=dx; ballY+=dy; requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>