<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Stone ‚Ä¢ Paper ‚Ä¢ Scissors</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0f172a;           /* slate-900 */
      --panel: #111827;        /* gray-900 */
      --panel-2: #0b1220;      /* deeper */
      --text: #e5e7eb;         /* gray-200 */
      --muted: #9ca3af;        /* gray-400 */
      --brand: #22c55e;        /* green-500 */
      --accent: #60a5fa;       /* blue-400 */
      --danger: #f43f5e;       /* rose-500 */
      --shadow: 0 10px 30px rgba(0,0,0,.45);
      --radius: 18px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }

    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 600px at 100% -10%, rgba(96,165,250,.15), transparent 60%),
        radial-gradient(1200px 600px at -10% 100%, rgba(34,197,94,.15), transparent 60%),
        var(--bg);
      color: var(--text);
      display:flex;align-items:center;justify-content:center;
      padding: 28px;
    }

    .card{
      width: min(960px, 100%);
      background: linear-gradient(180deg, var(--panel), var(--panel-2));
      border: 1px solid rgba(255,255,255,.06);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    header{
      padding: 28px 28px 16px;
      display:flex;align-items:center;justify-content:space-between;gap:16px;
      border-bottom: 1px solid rgba(255,255,255,.06);
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
    }

    .title{
      display:flex; align-items:center; gap:14px;
    }
    .logo{
      width:44px;height:44px;border-radius:12px;
      display:grid;place-items:center;
      background: rgba(96,165,250,.2);
      border:1px solid rgba(96,165,250,.35);
      box-shadow: inset 0 0 30px rgba(96,165,250,.2);
      font-size: 22px;
    }
    h1{font-size: clamp(18px, 2.4vw, 24px);margin:0;font-weight:800;letter-spacing: .2px;}
    .subtitle{color:var(--muted);font-size: 13px;margin-top:2px}

    .score{
      display:flex; gap:14px; align-items:center;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      padding:10px 14px; border-radius:14px;
    }
    .badge{font-weight:700; font-size:12px; color:#111; background:#fff; padding:4px 8px; border-radius:999px}
    .score-num{font-size: 20px; font-weight:800; letter-spacing:.5px}
    .split{opacity:.35}

    main{ padding: 22px; }

    .arena{
      display:grid; grid-template-columns: 1fr 1fr; gap:22px; align-items:stretch;
    }

    .panel{
      background: rgba(255,255,255,.03);
      border: 1px solid rgba(255,255,255,.07);
      border-radius: 16px;
      padding: 18px;
      min-height: 180px;
    }

    .panel h2{ font-size:14px; text-transform: uppercase; letter-spacing:.14em; color:var(--muted); margin:0 0 12px }

    .choices{
      display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:12px;
    }

    button.choice{
      appearance:none; border:none; cursor:pointer;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.08);
      border-radius: 16px; padding:14px 10px;
      display:flex; flex-direction:column; gap:8px; align-items:center; justify-content:center;
      transition: transform .12s ease, box-shadow .12s ease, background .2s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,.25);
      position:relative;
    }
    button.choice:hover{ transform: translateY(-2px); box-shadow: 0 10px 24px rgba(0,0,0,.35) }
    button.choice:active{ transform: translateY(1px) scale(.98) }
    button.choice:focus-visible{ outline: 2px solid var(--accent); outline-offset: 2px }

    .emoji{ font-size: 34px; line-height:1 }
    .label{ font-size: 13px; color: var(--muted) }

    .versus{
      display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; gap:14px;
      margin-top: 8px;
    }
    .big-emoji{
      font-size: 54px; display:grid; place-items:center; width:80px; height:80px;
      border-radius: 18px; background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.08);
    }
    .vs{ font-weight:800; letter-spacing:.2px; color:var(--muted) }

    .result{
      margin-top: 12px; padding: 14px; border-radius: 14px;
      background: rgba(34,197,94,.1);
      border: 1px solid rgba(34,197,94,.25);
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .result[data-outcome="win"]{ background: rgba(34,197,94,.12); border-color: rgba(34,197,94,.35) }
    .result[data-outcome="lose"]{ background: rgba(244,63,94,.12); border-color: rgba(244,63,94,.35) }
    .result[data-outcome="draw"]{ background: rgba(96,165,250,.12); border-color: rgba(96,165,250,.35) }

    .result strong{ font-size: 16px }
    .muted{ color: var(--muted) }

    .actions{ display:flex; gap:10px; flex-wrap:wrap }
    .btn{
      appearance:none; border:none; cursor:pointer;
      background: var(--accent); color:#0b1220; font-weight:800;
      padding: 10px 14px; border-radius: 12px; letter-spacing:.2px;
      box-shadow: 0 6px 16px rgba(96,165,250,.45);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:hover{ transform: translateY(-1px); box-shadow: 0 10px 20px rgba(96,165,250,.6) }
    .btn:active{ transform: translateY(1px) }
    .btn.secondary{ background: rgba(255,255,255,.06); color: var(--text); box-shadow: none; border:1px solid rgba(255,255,255,.1) }

    footer{
      padding: 0 22px 22px; color: var(--muted); font-size: 12px; text-align:center
    }

    @media (max-width: 720px){
      .arena{ grid-template-columns: 1fr; }
      .versus{ grid-template-columns: 1fr auto 1fr }
      .big-emoji{ width:70px; height:70px; font-size:44px }
    }
  </style>
</head>
<body>
  <div class="card" role="application" aria-label="Stone Paper Scissors game">
    <header>
      <div class="title">
        <div class="logo" aria-hidden="true">‚úÇÔ∏è</div>
        <div>
          <h1>Stone ‚Ä¢ Paper ‚Ä¢ Scissors</h1>
          <div class="subtitle">Pick your move or press <kbd>R</kbd>/<kbd>P</kbd>/<kbd>S</kbd></div>
        </div>
      </div>
      <div class="score" aria-live="polite" aria-atomic="true">
        <span class="badge">Score</span>
        <span class="score-num" id="userScore">0</span>
        <span class="split">:</span>
        <span class="score-num" id="cpuScore">0</span>
      </div>
    </header>

    <main>
      <section class="arena">
        <div class="panel">
          <h2>Your move</h2>
          <div class="choices">
            <button class="choice" data-move="rock" aria-label="Rock (R)">
              <div class="emoji" aria-hidden="true">ü™®</div>
              <div class="label">Rock</div>
            </button>
            <button class="choice" data-move="paper" aria-label="Paper (P)">
              <div class="emoji" aria-hidden="true">üìÑ</div>
              <div class="label">Paper</div>
            </button>
            <button class="choice" data-move="scissors" aria-label="Scissors (S)">
              <div class="emoji" aria-hidden="true">‚úÇÔ∏è</div>
              <div class="label">Scissors</div>
            </button>
          </div>

          <div class="versus" style="margin-top:18px">
            <div class="big-emoji" id="youIcon" aria-hidden="true">üôÇ</div>
            <div class="vs">VS</div>
            <div class="big-emoji" id="cpuIcon" aria-hidden="true">üíª</div>
          </div>

          <div class="result" id="result" data-outcome="draw" style="margin-top:18px">
            <strong id="resultText">Make a move!</strong>
            <span class="muted" id="hint">First to 10 wins. Good luck!</span>
          </div>
        </div>

        <div class="panel">
          <h2>Rules</h2>
          <ul class="muted" style="line-height:1.8; margin: 0 0 14px 16px">
            <li>Stone beats Scissors</li>
            <li>Paper beats Stone</li>
            <li>Scissors beat Paper</li>
          </ul>
          <div class="actions">
            <button class="btn" id="resetRound">Reset round</button>
            <button class="btn secondary" id="resetScore">Reset score</button>
            <button class="btn secondary" id="toggleTarget">Target: <span id="targetVal">10</span></button>
          </div>
          <p class="muted" style="margin-top: 10px">Tip: Use keyboard shortcuts ‚Äî R, P, S.</p>
        </div>
      </section>
    </main>

    <footer>
      Built with HTML, CSS, and vanilla JS. No libraries.
    </footer>
  </div>

  <script>
    // --- Game State ---
    const moves = ["rock", "paper", "scissors"];
    const icons = { rock: "ü™®", paper: "üìÑ", scissors: "‚úÇÔ∏è" };

    const userScoreEl = document.getElementById('userScore');
    const cpuScoreEl = document.getElementById('cpuScore');
    const youIcon = document.getElementById('youIcon');
    const cpuIcon = document.getElementById('cpuIcon');
    const result = document.getElementById('result');
    const resultText = document.getElementById('resultText');
    const hint = document.getElementById('hint');
    const targetVal = document.getElementById('targetVal');

    let userScore = Number(localStorage.getItem('sps_userScore') || 0);
    let cpuScore = Number(localStorage.getItem('sps_cpuScore') || 0);
    let target = Number(localStorage.getItem('sps_target') || 10);

    function save(){
      localStorage.setItem('sps_userScore', userScore);
      localStorage.setItem('sps_cpuScore', cpuScore);
      localStorage.setItem('sps_target', target);
    }

    function syncUI(){
      userScoreEl.textContent = userScore;
      cpuScoreEl.textContent = cpuScore;
      targetVal.textContent = target;
    }

    syncUI();

    // --- Core Logic ---
    function cpuMove(){
      return moves[Math.floor(Math.random() * moves.length)];
    }

    function judge(user, cpu){
      if (user === cpu) return 'draw';
      if (
        (user === 'rock' && cpu === 'scissors') ||
        (user === 'paper' && cpu === 'rock') ||
        (user === 'scissors' && cpu === 'paper')
      ) return 'win';
      return 'lose';
    }

    function play(user){
      const cpu = cpuMove();
      const outcome = judge(user, cpu);

      // animate icons
      youIcon.textContent = icons[user];
      cpuIcon.textContent = icons[cpu];
      flash(youIcon); flash(cpuIcon);

      if(outcome === 'win') userScore++; else if(outcome === 'lose') cpuScore++;
      save();
      syncUI();

      result.dataset.outcome = outcome;
      resultText.textContent = outcome === 'win' ? 'You win!' : outcome === 'lose' ? 'You lose!' : "It's a draw.";
      hint.textContent = `${capitalize(user)} vs ${capitalize(cpu)}`;

      checkMatchOver();
    }

    function checkMatchOver(){
      if (userScore >= target || cpuScore >= target){
        const youWon = userScore > cpuScore;
        result.dataset.outcome = youWon ? 'win' : 'lose';
        resultText.textContent = youWon ? `Match over ‚Äî You reached ${target}!` : `Match over ‚Äî CPU reached ${target}.`;
        hint.textContent = 'Press Reset round to play again.';
      }
    }

    function flash(el){
      el.animate([
        { transform: 'scale(1)' },
        { transform: 'scale(1.15)' },
        { transform: 'scale(1)' }
      ], { duration: 220, easing: 'ease-out' });
    }

    function capitalize(s){ return s[0].toUpperCase() + s.slice(1); }

    // --- Events ---
    document.querySelectorAll('button.choice').forEach(btn => {
      btn.addEventListener('click', () => {
        if (userScore >= target || cpuScore >= target) return; // lock when match over
        play(btn.dataset.move);
      })
    });

    // Keyboard shortcuts: R, P, S
    window.addEventListener('keydown', (e) => {
      const key = e.key.toLowerCase();
      if (['r','p','s'].includes(key)){
        e.preventDefault();
        const map = { r:'rock', p:'paper', s:'scissors' };
        if (userScore < target && cpuScore < target) play(map[key]);
      }
    });

    // Controls
    document.getElementById('resetRound').addEventListener('click', () => {
      youIcon.textContent = 'üôÇ';
      cpuIcon.textContent = 'üíª';
      result.dataset.outcome = 'draw';
      resultText.textContent = 'New round ready!';
      hint.textContent = 'Make your move.';
    });

    document.getElementById('resetScore').addEventListener('click', () => {
      userScore = 0; cpuScore = 0; save(); syncUI();
      result.dataset.outcome = 'draw';
      resultText.textContent = 'Scores cleared';
      hint.textContent = 'First to ' + target + ' wins.';
    });

    document.getElementById('toggleTarget').addEventListener('click', () => {
      const options = [5, 10, 15, 20];
      const idx = options.indexOf(target);
      target = options[(idx + 1) % options.length];
      save();
      syncUI();
      hint.textContent = 'Playing to ' + target + '.';
    });

    // Ensure match state message if reloading mid‚Äëmatch
    checkMatchOver();
  </script>
</body>
</html>
